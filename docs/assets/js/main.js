"use strict";const listCharacters=document.querySelector(".js-characters-list");let characters=[];const searchBtn=document.querySelector(".js-search-btn"),searchBar=document.querySelector(".js-search-bar");let favourites=[];const listFavCharacters=document.querySelector(".js-favourite-characters");function renderCharacters(a){let e="";for(const r of a)e+=`<li class="item js-character" id="${r.char_id}"> <article class="character">`,e+=`<img class="character__image"src="${r.img}">`,e+=`<h2 class="character__name">${r.name}</h2>`,e+=`<p class="character__dead">${r.status}</p>`,e+="</article> </li>";listCharacters.innerHTML=e,favouriteCharacters()}function renderFavCharacters(a){let e="";for(const r of a)e+=`<li class="item js-character" id="${r.char_id}"> <article class="character">`,e+=`<img class="character__image"src="${r.img}">`,e+=`<h2 class="character__name">${r.name}</h2>`,e+=`<p class="character__dead">${r.status}</p>`,e+="</article> </li>";listFavCharacters.innerHTML=e}function getData(){fetch("https://breakingbadapi.com/api/characters").then(a=>a.json()).then(a=>{characters=a,renderCharacters(characters)})}function handleClickbtn(a){a.preventDefault();const e=searchBar.value.toLowerCase();renderCharacters(characters.filter(a=>a.name.toLowerCase().includes(e)))}function handleClickfav(a){a.currentTarget.classList.toggle("fav");const e=parseInt(a.currentTarget.id),r=characters.find((function(a){return a.char_id===e})),t=favourites.findIndex(a=>a.char_id===e);-1===t?(favourites.push(r),renderFavCharacters(favourites),localStorage.setItem("favouriteCharacters",favourites)):(favourites.splice(t,1),renderFavCharacters(favourites),localStorage.setItem("favouriteCharacters",favourites)),console.log(favourites)}function favouriteCharacters(){const a=document.querySelectorAll(".js-character");for(const e of a)e.addEventListener("click",handleClickfav)}getData(),searchBtn.addEventListener("click",handleClickbtn);